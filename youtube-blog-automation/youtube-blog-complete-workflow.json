{
  "name": "YouTube Blog Complete Final",
  "nodes": [
    {
      "parameters": {
        "path": "youtube-blog-complete-final",
        "httpMethod": "POST",
        "responseMode": "responseNode"
      },
      "id": "webhook-trigger",
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [240, 300],
      "webhookId": "youtube-blog-complete-final"
    },
    {
      "parameters": {
        "resource": "databasePage",
        "operation": "get",
        "pageId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $json.pageId }}"
        }
      },
      "id": "notion-get-page",
      "name": "Get Notion Page",
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2.2,
      "position": [460, 300],
      "credentials": {
        "notionApi": {
          "id": "kCKFfrau35Gf4PvW",
          "name": "ì´ë¯¸ì»¤í”¼ Notion API"
        }
      }
    },
    {
      "parameters": {
        "language": "javaScript",
        "mode": "runOnceForAllItems",
        "jsCode": "// YouTube URLì—ì„œ videoIdì™€ ê¸°íƒ€ ì •ë³´ ì¶”ì¶œ\nconst items = $input.all();\nconst results = [];\n\nfor (const item of items) {\n  const data = item.json;\n  \n  // Notion í˜ì´ì§€ ë°ì´í„°ì—ì„œ YouTube URL ì¶”ì¶œ\n  let youtubeUrl = '';\n  let title = '';\n  let channelName = '';\n  let videoId = '';\n  \n  // Notion í˜ì´ì§€ ì†ì„±ì—ì„œ YouTube URL ì°¾ê¸°\n  if (data.properties) {\n    // URL ì†ì„±ì—ì„œ YouTube URL ì¶”ì¶œ\n    if (data.properties.URL && data.properties.URL.url) {\n      youtubeUrl = data.properties.URL.url;\n    } else if (data.properties.urlValue && data.properties.urlValue.url) {\n      youtubeUrl = data.properties.urlValue.url;\n    }\n    \n    // ì œëª© ì¶”ì¶œ\n    if (data.properties.title && data.properties.title.title && data.properties.title.title.length > 0) {\n      title = data.properties.title.title[0].plain_text;\n    } else if (data.properties.Name && data.properties.Name.title && data.properties.Name.title.length > 0) {\n      title = data.properties.Name.title[0].plain_text;\n    }\n    \n    // ì±„ë„ëª… ì¶”ì¶œ\n    if (data.properties.textContent && data.properties.textContent.rich_text && data.properties.textContent.rich_text.length > 0) {\n      channelName = data.properties.textContent.rich_text[0].plain_text;\n    } else if (data.properties.Channel && data.properties.Channel.rich_text && data.properties.Channel.rich_text.length > 0) {\n      channelName = data.properties.Channel.rich_text[0].plain_text;\n    }\n  }\n  \n  // YouTube URLì—ì„œ video ID ì¶”ì¶œ\n  if (youtubeUrl) {\n    const urlRegex = /(?:youtube\\.com\\/(?:[^\\/]+\\/\\S+\\/|(?:v|e(?:mbed)?)\\/|\\S*?[?&]v=)|youtu\\.be\\/)([a-zA-Z0-9_-]{11})/;\n    const match = youtubeUrl.match(urlRegex);\n    if (match && match[1]) {\n      videoId = match[1];\n    }\n  }\n  \n  // ê²°ê³¼ ê°ì²´ ìƒì„±\n  const result = {\n    json: {\n      videoId: videoId,\n      youtubeUrl: youtubeUrl,\n      title: title,\n      channelName: channelName,\n      originalData: data\n    }\n  };\n  \n  results.push(result);\n}\n\nreturn results;"
      },
      "id": "extract-youtube-info",
      "name": "Extract YouTube Info",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [680, 300]
    },
    {
      "parameters": {
        "url": "=https://api.supadata.ai/v1/youtube/transcript?videoId={{ $json.videoId }}",
        "method": "GET",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Accept",
              "value": "application/json"
            }
          ]
        }
      },
      "id": "youtube-transcript",
      "name": "YouTube Transcript",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [900, 300],
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "resource": "text",
        "operation": "message",
        "modelId": {
          "__rl": true,
          "mode": "list",
          "value": "gemini-1.5-pro"
        },
        "prompt": "=ë‹¹ì‹ ì€ ì´ë¯¸ì»¤í”¼ ëŒ€í‘œ hovooì…ë‹ˆë‹¤. 15ë…„ê°„ ì¹´í˜ë¥¼ ìš´ì˜í•˜ë©° ë¸Œëœë”©ê³¼ AI ìë™í™” ì „ë¬¸ì„±ì„ í‚¤ì›Œì˜¨ ê²½í—˜ ë§ì€ ì‚¬ì—…ê°€ì…ë‹ˆë‹¤. í˜„ì¬ GPTers ì»¤ë®¤ë‹ˆí‹°ì—ì„œ \"AI ê°ì„± ë¸Œëœë”© ì‹œìŠ¤í…œ\" ìŠ¤í„°ë””ë¥¼ ìš´ì˜í•˜ë©°, ìì˜ì—…ìë“¤ì—ê²Œ AI í™œìš©ë²•ì„ ê°€ë¥´ì¹˜ê³  ìˆìŠµë‹ˆë‹¤.\n\nì•„ë˜ YouTube ì˜ìƒì˜ ìë§‰ì„ ë°”íƒ•ìœ¼ë¡œ, hovooì˜ ê´€ì ì—ì„œ ë¸”ë¡œê·¸ ê¸€ì„ ì‘ì„±í•´ì£¼ì„¸ìš”:\n\n**ì˜ìƒ ì •ë³´:**\n- ì œëª©: {{ $('Extract YouTube Info').first().json.title }}\n- ì±„ë„: {{ $('Extract YouTube Info').first().json.channelName }}\n- URL: {{ $('Extract YouTube Info').first().json.youtubeUrl }}\n\n**ìë§‰ ë‚´ìš©:**\n{{ $json.content ? $json.content.map(item => `[${Math.floor(item.offset/1000)}ì´ˆ] ${item.text}`).join('\\n') : 'ìë§‰ì„ ê°€ì ¸ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.' }}\n\n**ì‘ì„± ê°€ì´ë“œë¼ì¸:**\n\n1. **hovooì˜ ì •ì²´ì„± ìœ ì§€**\n   - 15ë…„ ì¹´í˜ ìš´ì˜ ê²½í—˜ í™œìš©\n   - AI ìë™í™” ì „ë¬¸ê°€ë¡œì„œì˜ ì¸ì‚¬ì´íŠ¸\n   - ì‹¤ìš©ì ì´ê³  ë”°ëœ»í•œ ì–´ì¡°\n   - ì˜¤í”„ë¼ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ Ã— AI ìœµí•© ê´€ì \n\n2. **ê¸€ êµ¬ì¡° (ìµœì†Œ 2500ì)**\n   - ì¸ì‚¬ë§ê³¼ ì˜ìƒ ì†Œê°œ\n   - ì£¼ìš” ë‚´ìš© 3-4ê°€ì§€ í¬ì¸íŠ¸ë¡œ ì •ë¦¬\n   - ê° í¬ì¸íŠ¸ë§ˆë‹¤ hovooì˜ ê²½í—˜ê³¼ ì—°ê²°\n   - ì‹¤ë¬´ ì ìš© ë°©ì•ˆ ì œì‹œ\n   - ë§ˆë¬´ë¦¬ì™€ ë…ìë“¤ì„ ìœ„í•œ ì¡°ì–¸\n\n3. **í†¤ì•¤ë§¤ë„ˆ**\n   - \"ì•ˆë…•í•˜ì„¸ìš”, ì´ë¯¸ì»¤í”¼ hovooì…ë‹ˆë‹¤\" ì‹œì‘\n   - ì¡´ëŒ“ë§ ì‚¬ìš©\n   - êµ¬ì²´ì ì¸ ì‚¬ë¡€ì™€ ê²½í—˜ ì–¸ê¸‰\n   - AI ë„êµ¬ì™€ ìë™í™”ì— ëŒ€í•œ ì‹¤ìš©ì  ì¡°ì–¸\n   - ë”°ëœ»í•˜ê³  ê²©ë ¤í•˜ëŠ” ë§ˆë¬´ë¦¬\n\n4. **í˜•ì‹**\n   - ë§ˆí¬ë‹¤ìš´ í˜•ì‹\n   - ì ì ˆí•œ ì†Œì œëª© êµ¬ì„±\n   - ì½ê¸° ì‰¬ìš´ ë‹¨ë½ êµ¬ì„±\n\nì˜ìƒ ë‚´ìš©ì„ hovooì˜ ê²½í—˜ê³¼ ìœµí•©í•˜ì—¬, ë…ìë“¤ì—ê²Œ ì‹¤ì§ˆì ì¸ ë„ì›€ì´ ë˜ëŠ” ë¸”ë¡œê·¸ ê¸€ë¡œ ì¬íƒ„ìƒì‹œì¼œ ì£¼ì„¸ìš”.",
        "options": {
          "temperature": 0.7,
          "maxTokens": 4000
        }
      },
      "id": "generate-blog-content",
      "name": "Generate Blog Content",
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "typeVersion": 1,
      "position": [1120, 300],
      "credentials": {
        "googleGeminiApi": {
          "id": "SO4eLSfcE2Z5kkss",
          "name": "Google Gemini API"
        }
      }
    },
    {
      "parameters": {
        "resource": "databasePage",
        "operation": "create",
        "databaseId": {
          "__rl": true,
          "mode": "id",
          "value": "251d0f53623d8158b023d994a1e58122"
        },
        "title": "={{ $('Extract YouTube Info').first().json.title + ' - ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸' }}",
        "properties": {
          "properties": [
            {
              "key": "title",
              "title": "={{ $('Extract YouTube Info').first().json.title }}"
            },
            {
              "key": "urlValue",
              "url": "={{ $('Extract YouTube Info').first().json.youtubeUrl }}"
            },
            {
              "key": "textContent",
              "richText": [
                {
                  "text": "={{ $('Extract YouTube Info').first().json.channelName }}"
                }
              ]
            },
            {
              "key": "ë³¸ë¬¸",
              "richText": [
                {
                  "text": "={{ $json.text.length > 2000 ? $json.text.substring(0, 2000) + '...' : $json.text }}"
                }
              ]
            },
            {
              "key": "íƒœê·¸",
              "multiSelect": [
                "ì´ë¯¸ì»¤í”¼",
                "hovoo", 
                "YouTube",
                "ë¸”ë¡œê·¸",
                "AIìë™í™”"
              ]
            },
            {
              "key": "ìƒíƒœ",
              "select": "ë°œí–‰ì™„ë£Œ"
            }
          ]
        }
      },
      "id": "save-to-notion",
      "name": "Save to Notion",
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2.2,
      "position": [1340, 300],
      "credentials": {
        "notionApi": {
          "id": "kCKFfrau35Gf4PvW",
          "name": "ì´ë¯¸ì»¤í”¼ Notion API"
        }
      }
    },
    {
      "parameters": {
        "resource": "message",
        "operation": "sendMessage",
        "chatId": "7830356405",
        "text": "=ğŸ‰ YouTube â†’ ë¸”ë¡œê·¸ ë³€í™˜ ì™„ë£Œ!\n\nğŸ“º **ì˜ìƒ**: {{ $('Extract YouTube Info').first().json.title }}\nğŸ“º **ì±„ë„**: {{ $('Extract YouTube Info').first().json.channelName }}\nğŸ”— **URL**: {{ $('Extract YouTube Info').first().json.youtubeUrl }}\n\nâœ… **ì‘ì—… ì™„ë£Œ**:\n- ìë§‰ ì¶”ì¶œ: {{ $('YouTube Transcript').first().json ? 'ì„±ê³µ' : 'ì‹¤íŒ¨' }}\n- AI ë¸”ë¡œê·¸ ìƒì„±: ì™„ë£Œ\n- Notion ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥: ì™„ë£Œ\n\nğŸ“ **ìƒì„±ëœ ì½˜í…ì¸  ê¸¸ì´**: {{ $('Generate Blog Content').first().json.text ? $('Generate Blog Content').first().json.text.length + 'ì' : 'N/A' }}\n\nâœ¨ hovooì˜ ê´€ì ì—ì„œ {{ $('Extract YouTube Info').first().json.channelName }} ì˜ìƒì„ ì™„ë²½í•˜ê²Œ ë¸”ë¡œê·¸ë¡œ ë³€í™˜í–ˆìŠµë‹ˆë‹¤!\n\nğŸ’¡ ì´ë¯¸ì»¤í”¼ AI ìë™í™” ì‹œìŠ¤í…œì´ ë˜ í•˜ë‚˜ì˜ ì½˜í…ì¸ ë¥¼ íƒ„ìƒì‹œì¼°ë„¤ìš”! ğŸš€"
      },
      "id": "telegram-notification",
      "name": "Telegram Notification",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [1560, 300],
      "credentials": {
        "telegramApi": {
          "id": "hIo5i77YKdu9Rs8g",
          "name": "í…”ë ˆê·¸ë¨ ë´‡"
        }
      }
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n  \"success\": true,\n  \"message\": \"YouTube ì˜ìƒì´ ì„±ê³µì ìœ¼ë¡œ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ë¡œ ë³€í™˜ë˜ì—ˆìŠµë‹ˆë‹¤\",\n  \"data\": {\n    \"videoId\": \"{{ $('Extract YouTube Info').first().json.videoId }}\",\n    \"title\": \"{{ $('Extract YouTube Info').first().json.title }}\",\n    \"channel\": \"{{ $('Extract YouTube Info').first().json.channelName }}\",\n    \"youtubeUrl\": \"{{ $('Extract YouTube Info').first().json.youtubeUrl }}\",\n    \"transcriptSuccess\": {{ $('YouTube Transcript').first().json ? 'true' : 'false' }},\n    \"blogContentLength\": {{ $('Generate Blog Content').first().json.text ? $('Generate Blog Content').first().json.text.length : 0 }},\n    \"notionPageId\": \"{{ $('Save to Notion').first().json.id }}\",\n    \"processedAt\": \"{{ $now }}\"\n  }\n}"
      },
      "id": "webhook-response",
      "name": "Webhook Response",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.5,
      "position": [1780, 300]
    }
  ],
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "Get Notion Page",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Notion Page": {
      "main": [
        [
          {
            "node": "Extract YouTube Info",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract YouTube Info": {
      "main": [
        [
          {
            "node": "YouTube Transcript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "YouTube Transcript": {
      "main": [
        [
          {
            "node": "Generate Blog Content",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Blog Content": {
      "main": [
        [
          {
            "node": "Save to Notion",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Save to Notion": {
      "main": [
        [
          {
            "node": "Telegram Notification",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram Notification": {
      "main": [
        [
          {
            "node": "Webhook Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [
    {
      "id": "youtube-automation",
      "name": "YouTube Automation"
    },
    {
      "id": "blog-generation",
      "name": "Blog Generation"  
    },
    {
      "id": "hovoo-persona",
      "name": "hovoo Persona"
    }
  ],
  "triggerCount": 1,
  "updatedAt": "2025-01-25T10:30:00.000Z",
  "versionId": "1.0.0"
}