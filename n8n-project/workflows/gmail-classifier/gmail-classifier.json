{
  "nodes": [
    {
      "parameters": {
        "pollTimes": {
          "item": [
            {
              "mode": "everyX",
              "unit": "minutes"
            }
          ]
        },
        "filters": {
          "labelIds": [
            "INBOX"
          ]
        }
      },
      "type": "n8n-nodes-base.gmailTrigger",
      "typeVersion": 1.2,
      "position": [
        -864,
        -400
      ],
      "id": "8caf0cf2-a9dd-4ccb-9948-8395a2da534c",
      "name": "Gmail Trigger",
      "credentials": {
        "gmailOAuth2": {
          "id": "n735fVjFPAKUNivZ",
          "name": "hovoo Gmail account"
        }
      }
    },
    {
      "parameters": {
        "operation": "get",
        "messageId": "={{ $json.id }}",
        "simple": false,
        "options": {}
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        -656,
        -400
      ],
      "id": "4138e08f-2d37-42bc-8de8-239df0bd5bc0",
      "name": "Get Message Details",
      "webhookId": "9b2ca339-ece1-4158-828b-b7875ed68221",
      "credentials": {
        "gmailOAuth2": {
          "id": "n735fVjFPAKUNivZ",
          "name": "hovoo Gmail account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.text }}",
        "messages": {
          "messageValues": [
            {
              "message": "=ë‹¹ì‹ ì€ 15ë…„ì°¨ F&B ë¸Œëœë“œ ëŒ€í‘œì´ì AI ê°•ì˜ ì „ë¬¸ê°€ì˜ ì´ë©”ì¼ ë¶„ë¥˜ ì „ì²˜ë¦¬ ë‹´ë‹¹ìì…ë‹ˆë‹¤.\n\n## ì‚¬ìš©ì í”„ë¡œí•„\n- ì´ë¯¸ì»¤í”¼ & ì´ë¯¸ì–‘ê³¼ì ëŒ€í‘œ (15ë…„ ìš´ì˜)\n- AI ì‹¤ë¬´ í™œìš© ì „ë¬¸ê°€ (n8n, Notion, Claude ìë™í™”)\n- ê¸°ì—… ê°•ì˜ ë° ì»¨ì„¤íŒ… (ì†Œìƒê³µì¸, ìì˜ì—…ì ëŒ€ìƒ)\n- ì‘ê°€ (ì¶œê°„ ê²½í—˜), íŠ¸ë ˆë°”ë¦¬ ë¦¬ë”\n\n## ë¶„ë¥˜ ê°€ì´ë“œë¼ì¸\n\n### ğŸŸ¡ ê°œì¸ ë©”ì¼\n- ê°€ì¡±, ì¹œêµ¬, ì§€ì¸ì˜ ì‚¬ì ì¸ ì—°ë½\n- ê°œì¸ì  ì·¨ë¯¸, ê´€ì‹¬ì‚¬ ê´€ë ¨\n- ì‚¬ì—…ê³¼ ë¬´ê´€í•œ ê°œì¸ì  ì†Œí†µ\n- í‚¤ì›Œë“œ: ì•ˆë¶€, ìƒì¼, ê°œì¸ì , ì¹œêµ¬, ê°€ì¡±\n- ì˜ˆì‹œ: \"ì˜¤ëŠ˜ ì €ë… ì•½ì†\", \"ìƒì¼ ì¶•í•˜\", \"ê°œì¸ì  ì•ˆë¶€\"\n\n### ğŸŸ¡ ê°œì¸ ì—…ë¬´ (êµìœ¡ / ì¸í„°ë·° / ì´ë²¤íŠ¸)\n- CEO ê°œì¸ì—ê²Œ ì§ì ‘ ì˜¨ ì‚¬ì—… ê¸°íšŒ\n- AI ê°•ì˜, êµìœ¡, ì›Œí¬ìƒµ ìš”ì²­\n- ì¸í„°ë·°, íŒŸìºìŠ¤íŠ¸, ë¯¸ë””ì–´ ì¶œì—° ì„­ì™¸\n- ì»¨ì„¤íŒ…, ìë¬¸ ìš”ì²­\n- ì¶œíŒ, ì§‘í•„ ê´€ë ¨ ì œì•ˆ\n- ì»¨í¼ëŸ°ìŠ¤, ì„¸ë¯¸ë‚˜ ê°•ì—° ìš”ì²­\n- í‚¤ì›Œë“œ: ê°•ì˜, êµìœ¡, ì¸í„°ë·°, ì¶œì—°, ì»¨ì„¤íŒ…, ì›Œí¬ìƒµ, ì„¸ë¯¸ë‚˜, AI êµìœ¡, ê¸°ì—… êµìœ¡\n- ì˜ˆì‹œ: \"ì‚¼ì„±ì „ì AI êµìœ¡ ìš”ì²­\", \"íŒŸìºìŠ¤íŠ¸ ì¶œì—° ì„­ì™¸\", \"ìŠ¤íƒ€íŠ¸ì—… ë©˜í† ë§\"\n\n### âš« ê´‘ê³ \n- ë§ˆì¼€íŒ…, í”„ë¡œëª¨ì…˜ ë©”ì¼\n- ìƒí’ˆ/ì„œë¹„ìŠ¤ ê´‘ê³ \n- ë‰´ìŠ¤ë ˆí„° (ìƒì—…ì  ëª©ì )\n- ìŠ¤íŒ¸ì„± ë©”ì¼\n- í‚¤ì›Œë“œ: í• ì¸, í”„ë¡œëª¨ì…˜, ê´‘ê³ , ë§ˆì¼€íŒ…, ì„¸ì¼, ì´ë²¤íŠ¸, í˜œíƒ\n- ì˜ˆì‹œ: \"50% í• ì¸\", \"ì‹ ì œí’ˆ ì¶œì‹œ\", \"ë§ˆì¼€íŒ… ì œì•ˆ\"\n\n### ğŸ”´ ì„¸ë¬´ íšŒê³„\n- ë…¸ë¬´ë²•ì¸, ì„¸ë¬´ì„œ, íšŒê³„ì‚¬ë¬´ì†Œ ë°œì‹ \n- ê¸‰ì—¬, ì„¸ê¸ˆ, ì¬ë¬´ì œí‘œ ê´€ë ¨\n- ì •ë¶€ ê¸°ê´€ ì„¸ë¬´ í†µì§€\n- ì‚¬ì—…ìë“±ë¡, ë¶€ê°€ì„¸ ì‹ ê³ \n- í‚¤ì›Œë“œ: ë…¸ë¬´ë²•ì¸, ì„¸ë¬´ì„œ, ê¸‰ì—¬ëŒ€ì¥, ì„¸ê¸ˆê³„ì‚°ì„œ, ë¶€ê°€ì„¸, ì†Œë“ì„¸, ì¬ë¬´ì œí‘œ\n- ì˜ˆì‹œ: \"ê¸‰ì—¬ëŒ€ì¥ ì†¡ë¶€\", \"ë¶€ê°€ì„¸ ì‹ ê³ \", \"ì„¸ë¬´ì¡°ì‚¬ í†µì§€\"\n\n### ğŸ”´ ì—…ë¬´ ê´€ë¦¬\n- ì´ë¯¸ì»¤í”¼/ì´ë¯¸ì–‘ê³¼ì ë§¤ì¥ ìš´ì˜\n- ê³ ê° ì„œë¹„ìŠ¤, í´ë ˆì„ ì²˜ë¦¬\n- ê³µê¸‰ì—…ì²´, ë²¤ë” ì»¤ë®¤ë‹ˆì¼€ì´ì…˜\n- ì¥ë¹„ ìœ ì§€ë³´ìˆ˜, A/S\n- ì¼ë°˜ì ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ ì—…ë¬´\n- í‚¤ì›Œë“œ: ë§¤ì¥, ìš´ì˜, ê³ ê°, ê³µê¸‰ì—…ì²´, ì£¼ë¬¸, ë°°ì†¡, ì¥ë¹„, A/S\n- ì˜ˆì‹œ: \"ì›ë‘ ê³µê¸‰ ë¬¸ì˜\", \"ì¥ë¹„ ìˆ˜ë¦¬ ìš”ì²­\", \"ê³ ê° ì»´í”Œë ˆì¸\"\n\n### ğŸ”´ ì¸ì‚¬ ê¸‰ì—¬\n- ì§ì› ì±„ìš©, ê´€ë¦¬, í‡´ì‚¬ ê´€ë ¨\n- ê¸‰ì—¬ ì²˜ë¦¬, 4ëŒ€ë³´í—˜\n- ê·¼ë¡œê³„ì•½ì„œ, ë…¸ë¬´ ê´€ë ¨\n- êµìœ¡, ë³µë¦¬í›„ìƒ\n- í‚¤ì›Œë“œ: ì§ì›, ê¸‰ì—¬, 4ëŒ€ë³´í—˜, ê·¼ë¡œê³„ì•½, í‡´ì‚¬, êµìœ¡, ë³µë¦¬í›„ìƒ\n- ì˜ˆì‹œ: \"ì§ì› êµìœ¡ ì•ˆë‚´\", \"4ëŒ€ë³´í—˜ ë³€ê²½\", \"ê·¼ë¡œê³„ì•½ì„œ ì‘ì„±\"\n\n### ğŸ”´ ì±„ìš© ë° ê¸°íƒ€\n- ë°”ë¦¬ìŠ¤íƒ€, ë¡œìŠ¤í„° ì§€ì›ì„œ\n- êµ¬ì¸, êµ¬ì§ ê´€ë ¨\n- ì±„ìš© ê³µê³ , ë©´ì ‘ ê´€ë ¨\n- ì¸ë ¥ ì†Œê°œ, ì¶”ì²œ\n- í‚¤ì›Œë“œ: ì§€ì›ì„œ, ì´ë ¥ì„œ, ì±„ìš©, êµ¬ì¸, ë°”ë¦¬ìŠ¤íƒ€, ë¡œìŠ¤í„°, ë©´ì ‘\n- ì˜ˆì‹œ: \"ë°”ë¦¬ìŠ¤íƒ€ ì§€ì›\", \"ë¡œìŠ¤í„° ì´ë ¥ì„œ\", \"ì¸ë ¥ ì¶”ì²œ\"\n\n### ğŸ”µ ì¸ë³´ì´ìŠ¤\n- ì²­êµ¬ì„œ, ì„¸ê¸ˆê³„ì‚°ì„œ\n- ê²°ì œ ìš”ì²­, ìˆ˜ê¸ˆ\n- ê³µê³¼ê¸ˆ, ì„ëŒ€ë£Œ\n- êµ¬ë§¤ ëŒ€ê¸ˆ ì²­êµ¬\n- í‚¤ì›Œë“œ: ì²­êµ¬ì„œ, ì¸ë³´ì´ìŠ¤, ê²°ì œ, ì„¸ê¸ˆê³„ì‚°ì„œ, ê³µê³¼ê¸ˆ, ì„ëŒ€ë£Œ\n- ì˜ˆì‹œ: \"ì›” ì„ëŒ€ë£Œ ì²­êµ¬\", \"ì „ê¸°ë£Œ ê³ ì§€ì„œ\", \"ì›ë‘ ëŒ€ê¸ˆ ì²­êµ¬\"\n\n### ğŸŸ¢ AI ê¸°ìˆ \n- AI, ìë™í™”, n8n ê´€ë ¨\n- ê¸°ìˆ  ë‰´ìŠ¤, ì—…ë°ì´íŠ¸\n- ì†Œí”„íŠ¸ì›¨ì–´, ë„êµ¬ ê´€ë ¨\n- GPTers, ê°œë°œì ì»¤ë®¤ë‹ˆí‹°\n- í‚¤ì›Œë“œ: AI, ìë™í™”, n8n, ê¸°ìˆ , ì†Œí”„íŠ¸ì›¨ì–´, GPT, Claude, ê°œë°œ\n- ì˜ˆì‹œ: \"GPTers ì»¤ë®¤ë‹ˆí‹°\", \"n8n ì—…ë°ì´íŠ¸\", \"AI ë„êµ¬ ì†Œê°œ\"\n\n### ğŸŸ¢ ì¸ì‚¬ì´íŠ¸\n- ë¹„ì¦ˆë‹ˆìŠ¤ ì „ëµ, ì¸ì‚¬ì´íŠ¸\n- ì‹œì¥ ë¶„ì„, íŠ¸ë Œë“œ\n- ê²½ì˜ ê´€ë ¨ ì •ë³´\n- ì „ë¬¸ê°€ ì˜ê²¬, ì¹¼ëŸ¼\n- í‚¤ì›Œë“œ: ì¸ì‚¬ì´íŠ¸, ì „ëµ, ë¶„ì„, íŠ¸ë Œë“œ, ê²½ì˜, ì‹œì¥, ì „ë§\n- ì˜ˆì‹œ: \"F&B ì‹œì¥ ì „ë§\", \"ì†Œìƒê³µì¸ ì§€ì›ì •ì±…\", \"ê²½ì˜ ì „ëµ\"\n\n### ğŸŸ¢ ì—…ê³„ì •ë³´\n- ì¹´í˜, F&B ì—…ê³„ ë‰´ìŠ¤\n- ê²½ìŸì‚¬ ì •ë³´, ì—…ê³„ ë™í–¥\n- ì›ë‘, ì»¤í”¼ ê´€ë ¨ ì •ë³´\n- ì—…ê³„ ì´ë²¤íŠ¸, ë°•ëŒíšŒ\n- í‚¤ì›Œë“œ: ì¹´í˜, ì»¤í”¼, F&B, ì—…ê³„, ë™í–¥, ë°•ëŒíšŒ, ì›ë‘, ë¡œìŠ¤íŒ…\n- ì˜ˆì‹œ: \"ì»¤í”¼ ë°•ëŒíšŒ ì•ˆë‚´\", \"ì›ë‘ ê°€ê²© ë™í–¥\", \"ì¹´í˜ íŠ¸ë Œë“œ\"\n\n## ë¶„ì„ ì§€ì‹œì‚¬í•­\n\në‹¤ìŒ ì´ë©”ì¼ì„ ë¶„ì„í•˜ì—¬ ì •í™•í•œ ì¹´í…Œê³ ë¦¬ë¡œ ë¶„ë¥˜í•´ì£¼ì„¸ìš”.\n\nì´ë©”ì¼ ì •ë³´:\në°œì‹ ì: {{ $json.from.value[0].name }}\nì œëª©: {{ $json.subject }}\në‚´ìš©: {{ $json.text }}\n\në¶„ì„ ê²°ê³¼ë¥¼ ë‹¤ìŒ í˜•íƒœë¡œ ì¶œë ¥í•´ì£¼ì„¸ìš”:\n\në°œì‹ ì ìœ í˜•: [ê°œì¸/íšŒì‚¬/ê¸°ê´€/ìë™ë°œì†¡]\nì¶”ì • ì¹´í…Œê³ ë¦¬: [ìœ„ 11ê°œ ì¹´í…Œê³ ë¦¬ ì¤‘ ê°€ì¥ ì í•©í•œ ê²ƒ]\nì£¼ìš” í‚¤ì›Œë“œ: [ë¶„ë¥˜ì— ë„ì›€ë˜ëŠ” í•µì‹¬ í‚¤ì›Œë“œ 3-5ê°œ]\në‚´ìš© ìš”ì•½: [í•µì‹¬ ë‚´ìš©ì„ í•œ ë¬¸ì¥ìœ¼ë¡œ]\në¶„ë¥˜ ê·¼ê±°: [ì™œ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ë¡œ íŒë‹¨í–ˆëŠ”ì§€ êµ¬ì²´ì  ì´ìœ ]\në©”ì‹œì§€ID: {{ $json.id }}\n\níŠ¹ë³„ ë¶„ë¥˜ ê·œì¹™ (ìš°ì„ ìˆœìœ„ ìˆœ):\n1. ë°œì‹ ìëª…ì´ \"LongBlack\" ë˜ëŠ” \"ì‹œí‹°í˜¸í¼ìŠ¤\" â†’ ë¬´ì¡°ê±´ \"ì¸ì‚¬ì´íŠ¸\"\n2. ë°œì‹ ìê°€ \"GPTers\" â†’ ë¬´ì¡°ê±´ \"AI ê¸°ìˆ \"  \n3. ë°œì‹ ìê°€ ë…¸ë¬´ë²•ì¸, ì„¸ë¬´ì„œ â†’ ë¬´ì¡°ê±´ \"ì„¸ë¬´ íšŒê³„\"\n4. ê¸°ì—…ì—ì„œ CEO ê°œì¸ì—ê²Œ ì˜¨ ê°•ì˜/êµìœ¡ ìš”ì²­ â†’ \"ê°œì¸ ì—…ë¬´\"\n5. ë§¤ì¥ ìš´ì˜ ê´€ë ¨ â†’ \"ì—…ë¬´ ê´€ë¦¬\"\n6. ëª…í™•í•œ ê´‘ê³ ì„± ë©”ì¼ â†’ \"ê´‘ê³ \"\n7. ìœ„ ì¡°ê±´ í•´ë‹¹ ì—†ìŒ â†’ ë‚´ìš© ê¸°ë°˜ ë¶„ë¥˜"
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        -464,
        -400
      ],
      "id": "9177b483-014b-410b-8d64-912e582e1930",
      "name": "AI Email Classifier"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -464,
        -192
      ],
      "id": "99f0f54f-0435-42c3-987c-57bb0184567c",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "ZFmQNyo0kSoO9TXC",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "try {\n  const input = $input.first().json;\n  const text = input.text || '';\n  \n  // Get Message Detailsì—ì„œ ì‹¤ì œ ë©”ì‹œì§€ ID ê°€ì ¸ì˜¤ê¸°\n  const messageId = $('Get Message Details').first().json.id;\n  \n  // ì¶”ì • ì¹´í…Œê³ ë¦¬ ì¶”ì¶œ\n  const categoryMatch = text.match(/ì¶”ì • ì¹´í…Œê³ ë¦¬:\\s*([^\\n]+)/);\n  let category = categoryMatch ? categoryMatch[1].trim() : 'ê¸°íƒ€';\n  \n  // Gmail ë¼ë²¨ ID ë§¤í•‘\n  const categoryMapping = {\n    'ê°œì¸ ë©”ì¼': 'Label_1',\n    'ê°œì¸ ì—…ë¬´ (êµìœ¡ / ì¸í„°ë·° / ì´ë²¤íŠ¸)': 'Label_1959499669462627962',\n    'ê´‘ê³ ': 'Label_2664386232547169382',\n    'ì„¸ë¬´ íšŒê³„': 'Label_5346007232886454131',\n    'ì—…ë¬´ ê´€ë¦¬': 'Label_7564681703374459659',\n    'ì¸ì‚¬ ê¸‰ì—¬': 'Label_7989676787127045663',\n    'ì±„ìš© ë° ê¸°íƒ€': 'Label_2729306689238858667',\n    'ì¸ë³´ì´ìŠ¤': 'Label_2551575746782135007',\n    'AI ê¸°ìˆ ': 'Label_7861502927282720092',\n    'ì¸ì‚¬ì´íŠ¸': 'Label_6365891902333944865',\n    'ì—…ê³„ì •ë³´': 'Label_3912834597189393784'\n  };\n  \n  const labelId = categoryMapping[category] || 'Label_2873843655671434004';\n  \n  // ì¤‘ìš” ì¹´í…Œê³ ë¦¬ íŒë³„\n  const importantCategories = [\n    'Label_1959499669462627962', // ê°œì¸ ì—…ë¬´\n    'Label_7564681703374459659',  // ì—…ë¬´ ê´€ë¦¬  \n    'Label_2551575746782135007',  // ì¸ë³´ì´ìŠ¤\n    'Label_7861502927282720092',  // AI ê¸°ìˆ \n    'Label_6365891902333944865',  // ì¸ì‚¬ì´íŠ¸\n    'Label_5346007232886454131'   // ì„¸ë¬´ íšŒê³„\n  ];\n  \n  const isImportant = importantCategories.includes(labelId);\n  \n  // ì›ë³¸ ì´ë©”ì¼ ë°ì´í„°\n  const originalEmail = $('Get Message Details').first().json;\n  \n  console.log('ì‹¤ì œ ë©”ì‹œì§€ ID:', messageId);\n  console.log('ë¶„ë¥˜ ê²°ê³¼:', category);\n  console.log('ë¼ë²¨ ID:', labelId);\n  console.log('ì¤‘ìš” ì—¬ë¶€:', isImportant);\n  \n  return {\n    json: {\n      classification: category,\n      id: messageId,  // ì‹¤ì œ ë©”ì‹œì§€ ID\n      originalText: text,\n      category: category,\n      labelName: labelId,\n      isImportant: isImportant,\n      emailData: {\n        subject: originalEmail.subject,\n        from: originalEmail.from,\n        text: originalEmail.text,\n        html: originalEmail.html\n      }\n    }\n  };\n} catch (error) {\n  console.log('íŒŒì‹± ì—ëŸ¬:', error.message);\n  return {\n    json: {\n      classification: 'ê¸°íƒ€',\n      id: null,\n      error: error.message,\n      originalText: $input.first().json.text || '',\n      category: 'ê¸°íƒ€',\n      labelName: 'Label_2873843655671434004',\n      isImportant: false\n    }\n  };\n}"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -128,
        -400
      ],
      "id": "61f277b0-0f08-4326-b2ec-815b47127756",
      "name": "Parse Classification"
    },
    {
      "parameters": {
        "operation": "addLabels",
        "messageId": "={{ $('Get Message Details').item.json.id }}",
        "labelIds": "={{ [$json.labelName] }}"
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        112,
        -400
      ],
      "id": "62d109d0-1c8f-4c24-baef-82d8ccd9330b",
      "name": "Add Gmail Label",
      "webhookId": "2347659d-7d44-4d09-8131-33ded3585374",
      "credentials": {
        "gmailOAuth2": {
          "id": "n735fVjFPAKUNivZ",
          "name": "hovoo Gmail account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('Get Message Details').item.json.text }}",
        "messages": {
          "messageValues": [
            {
              "message": "=ì´ë©”ì¼ ë³¸ë¬¸ì„ í•œê¸€ë¡œ í•µì‹¬ë§Œ ìš”ì•½í•˜ë¼. ì´ ë©”ì¼ì€ '{{ $('Parse Classification').item.json.category }}' ì¹´í…Œê³ ë¦¬ë¡œ ë¶„ë¥˜ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n[ì¹´í…Œê³ ë¦¬ë³„ ë§ì¶¤ ìš”ì•½ ê°€ì´ë“œ]\n- ê°œì¸ ì—…ë¬´ (êµìœ¡/ì¸í„°ë·°): ìš”ì²­ ë‚´ìš©, ì¼ì •, ë³´ìƒ/ì¡°ê±´, ì°¸ì„ì ìˆ˜ ì¤‘ì‹¬\n- ì—…ë¬´ ê´€ë¦¬: ê¸´ê¸‰ë„, ì²˜ë¦¬ ë°©ë²•, ë‹´ë‹¹ì, ê¸°í•œ ì¤‘ì‹¬  \n- ì¸ë³´ì´ìŠ¤: ê¸ˆì•¡, ê¸°í•œ, ì§€ë¶ˆ ë°©ë²•, í•­ëª© ì¤‘ì‹¬\n- AI ê¸°ìˆ : ìƒˆë¡œìš´ ê¸°ëŠ¥, í™œìš© ë°©ì•ˆ, ì—…ë°ì´íŠ¸ ë‚´ìš© ì¤‘ì‹¬\n- ì¸ì‚¬ì´íŠ¸: í•µì‹¬ ì¸ì‚¬ì´íŠ¸, ì‹œì‚¬ì , ì•¡ì…˜ ì•„ì´í…œ ì¤‘ì‹¬\n- ì„¸ë¬´ íšŒê³„: ì²˜ë¦¬ ê¸°í•œ, í•„ìš” ì„œë¥˜, ë‹´ë‹¹ì ì—°ë½ì²˜ ì¤‘ì‹¬\n\n[ìš”ì•½ ê¸°ì¤€]\n- ë°˜ë“œì‹œ ì œëª©ê³¼ ë³¸ë¬¸ ìš”ì•½ì„ êµ¬ë¶„í•˜ì—¬ [ì œëª©], [ìš”ì•½] í˜•ì‹ìœ¼ë¡œ ì¶œë ¥\n- ìš”ì•½ì€ ìµœëŒ€ 3ë¬¸ë‹¨ ì´ë‚´ë¡œ, ë³¸ë¬¸ì˜ í•µì‹¬ ì •ë³´ì™€ ì£¼ìš” ì—…ë°ì´íŠ¸Â·ì•ˆë‚´ë§Œ í¬í•¨\n- URL, í•˜ì´í¼ë§í¬, ì´ë©”ì¼, ì—°ë½ì²˜ ë“± ë§í¬/ê°œì¸ì •ë³´ëŠ” ì ˆëŒ€ í¬í•¨í•˜ì§€ ë§ ê²ƒ\n- ê´‘ê³ Â·ì´ë²¤íŠ¸ ì•ˆë‚´, í”¼ë“œë°±, ìˆ˜ì‹ ê±°ë¶€, n8n ë“± ìë™ë°œì†¡Â·í‘¸í„°Â·ì¶œì²˜ ì•ˆë‚´ ë“± ë©”ì¼ í•˜ë‹¨ì˜ ë¶€ê°€ ì•ˆë‚´ ë¬¸êµ¬ëŠ” ìš”ì•½ì— ì ˆëŒ€ í¬í•¨í•˜ì§€ ë§ ê²ƒ\n- ì˜ë¬¸ í…ìŠ¤íŠ¸ê°€ í¬í•¨ë  ê²½ìš°, ì˜ë¯¸ë§Œ ë°˜ì˜í•´ì„œ í•œê¸€ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ìš”ì•½\n- í•„ìš”ì‹œ í•µì‹¬ë§Œ ì••ì¶•í•´ì„œ ë¶ˆí•„ìš”í•œ ë°˜ë³µÂ·ì¥í™©í•œ ì„¤ëª…ì€ ìƒëµ\n\n[ì¶œë ¥ ì˜ˆì‹œ]\n[ì œëª©] (ë©”ì¼ ì œëª© ë˜ëŠ” ì£¼ì œ í•œ ì¤„)\n[ì¹´í…Œê³ ë¦¬] {{ $json.category }}\n[ìš”ì•½] (í•µì‹¬ ë‚´ìš© 2~3ë¬¸ë‹¨, ê°„ê²°Â·ì •ë³´ ìœ„ì£¼)"
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        352,
        -400
      ],
      "id": "8dc0aaf4-6af0-4ed0-a7d1-b3fbfe9f6000",
      "name": "AI Email Summarizer"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.5-pro",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        544,
        -192
      ],
      "id": "633226ce-e3fe-44e0-8e44-716ee31f663d",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "SO4eLSfcE2Z5kkss",
          "name": "hovoo Google Gemini Api account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "return [{\n  json: {\n    text: $json.text,\n    id: $('Parse Classification').first().json.id,\n    category: $('Parse Classification').first().json.category\n  }\n}]"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        736,
        -400
      ],
      "id": "698f1af9-4595-48ec-a420-2b578f7fc52e",
      "name": "Prepare Telegram Message"
    },
    {
      "parameters": {
        "chatId": "7830356405",
        "text": "={{ $json.text }}",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "ğŸ“¥ ë³´ê´€",
                    "additionalFields": {
                      "callback_data": "=archive-{{ $json.id }}"
                    }
                  },
                  {
                    "text": "ğŸ—‘ï¸ ì‚­ì œ",
                    "additionalFields": {
                      "callback_data": "=delete-{{ $json.id }}"
                    }
                  },
                  {
                    "text": "â­ ë³„í‘œ",
                    "additionalFields": {
                      "callback_data": "=star-{{ $json.id }}"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "disable_web_page_preview": true,
          "reply_to_message_id": 0
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        960,
        -400
      ],
      "id": "0feb1791-f959-485a-a213-c2a3511fccfe",
      "name": "Send Telegram Alert",
      "webhookId": "3ea14b51-add6-41ea-92e1-d381c3815080",
      "alwaysOutputData": false,
      "credentials": {
        "telegramApi": {
          "id": "xPpU86c6hxvRmL6b",
          "name": "Gmail bot Telegram account"
        }
      }
    },
    {
      "parameters": {
        "updates": [
          "callback_query"
        ],
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegramTrigger",
      "typeVersion": 1.2,
      "position": [
        -864,
        80
      ],
      "id": "99d92b39-c219-402b-9877-7671b4585cb8",
      "name": "Telegram Callback",
      "webhookId": "39ccf06b-a859-4083-bd38-270b9344ab56",
      "credentials": {
        "telegramApi": {
          "id": "xPpU86c6hxvRmL6b",
          "name": "Gmail bot Telegram account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// ì½œë°± ë°ì´í„° íŒŒì‹±\nconst callbackData = $json.callback_query?.data || null;\n\nif (!callbackData) {\n  return [{\n    json: {\n      error: 'callback_data ì—†ìŒ',\n      raw: $json,\n    }\n  }];\n}\n\nconst [action, id] = callbackData.split('-');\n\nreturn [{\n  json: {\n    action: action || null,\n    messageId: id ? id.trim() : null,\n    raw: $json,\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -656,
        80
      ],
      "id": "4f1a0988-6759-4bf9-8602-eceb0dcf44d1",
      "name": "Parse Callback Data"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.action }}",
                    "rightValue": "archive",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "243c2ffe-c0e2-4955-b1cc-dae844cdb86b"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "55b48e53-f5c7-427d-bbc6-e18bffe9edd1",
                    "leftValue": "={{ $json.action }}",
                    "rightValue": "delete",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "db132dbc-3172-4bbd-ad79-8c960deceede",
                    "leftValue": "={{ $json.action }}",
                    "rightValue": "star",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        -464,
        64
      ],
      "id": "4d4f1227-7ff0-4d2f-bd77-cbd4a4f06774",
      "name": "Action Switch"
    },
    {
      "parameters": {
        "operation": "removeLabels",
        "messageId": "={{ $json.messageId }}",
        "labelIds": [
          "INBOX"
        ]
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        -256,
        -48
      ],
      "id": "e886d700-ea21-4576-89bd-1b168617ec6e",
      "name": "Archive Mail",
      "webhookId": "da2565e9-e077-4e2f-8b1e-2782fb2e4ff9",
      "credentials": {
        "gmailOAuth2": {
          "id": "n735fVjFPAKUNivZ",
          "name": "hovoo Gmail account"
        }
      }
    },
    {
      "parameters": {
        "operation": "delete",
        "messageId": "={{ $json.messageId }}"
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        -256,
        96
      ],
      "id": "2dfbc4bd-c488-46ea-8f9d-463597966d12",
      "name": "Delete Mail",
      "webhookId": "699ffe4f-e934-4f09-bb65-e4d8acfcded1",
      "credentials": {
        "gmailOAuth2": {
          "id": "n735fVjFPAKUNivZ",
          "name": "hovoo Gmail account"
        }
      }
    },
    {
      "parameters": {
        "operation": "addLabels",
        "messageId": "={{ $json.messageId }}",
        "labelIds": [
          "STARRED"
        ]
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        -256,
        240
      ],
      "id": "ecc1ab42-d72d-4204-9705-ed5105cca784",
      "name": "Star Mail",
      "webhookId": "99acda85-e8f2-43fd-b801-15d1e1278730",
      "credentials": {
        "gmailOAuth2": {
          "id": "n735fVjFPAKUNivZ",
          "name": "hovoo Gmail account"
        }
      }
    }
  ],
  "connections": {
    "Gmail Trigger": {
      "main": [
        [
          {
            "node": "Get Message Details",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Message Details": {
      "main": [
        [
          {
            "node": "AI Email Classifier",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Email Classifier": {
      "main": [
        [
          {
            "node": "Parse Classification",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Email Classifier",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Parse Classification": {
      "main": [
        [
          {
            "node": "Add Gmail Label",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Gmail Label": {
      "main": [
        [
          {
            "node": "AI Email Summarizer",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Email Summarizer": {
      "main": [
        [
          {
            "node": "Prepare Telegram Message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Email Summarizer",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Prepare Telegram Message": {
      "main": [
        [
          {
            "node": "Send Telegram Alert",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram Callback": {
      "main": [
        [
          {
            "node": "Parse Callback Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse Callback Data": {
      "main": [
        [
          {
            "node": "Action Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Action Switch": {
      "main": [
        [
          {
            "node": "Archive Mail",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Delete Mail",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Star Mail",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "503b3d8b44115e5921e2e4e1edcde177dde00c303a77361802e2da13d7103e31"
  }
}